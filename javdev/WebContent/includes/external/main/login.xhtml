<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

	<h:form id="loginForm">
		<p:growl id="growl" showDetail="true" showSummary="true" autoUpdate="true" />

		<div style="position: absolute; top: 50%; left: 50%; width: 400px; margin-left: -200px; margin-top: -150px; padding: 5px;">
			<b:panel title="Ingreso al sistema">
				<b:row>
					<b:column col-xs="12">
						<b:inputText value="#{loginBean.username}">
							<f:facet name="append">
								<b:iconAwesome name="user" />
							</f:facet>
						</b:inputText>
					</b:column>
				</b:row>
				<b:row>
					<b:column col-xs="12">
						<b:inputSecret id="pw-input">
							<f:facet name="append">
								<b:iconAwesome name="key" />
							</f:facet>
						</b:inputSecret>
					</b:column>
				</b:row>
				<div style="text-align: center;">
					<b:commandButton id="btn-sign-in" value="Ingresar" onclick="passwordCrypto();" look="primary" />
				</div>
			</b:panel>
			<h:inputHidden id="pw-hidden" value="#{loginBean.password}" />
			<p:remoteCommand name="tryUserLogin" action="#{loginBean.tryLogin}" />
		</div>
	</h:form>

	<script type="text/javascript">
		//<![CDATA[
		function validateSuccesLogin(xhr, status, args) {
			alert("ingresando"+ args.successLogin);
			if (args.successLogin) {
				setTimeout(function() {
					window.location = args.mainView;
				}, 500);
			}
		}
		//]]>
	</script>
</f:view>
